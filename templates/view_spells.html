<!DOCTYPE html>
<html>
<head>
    <title>ğŸ“– Your Spellbook</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>

<nav>
    <a href="/">ğŸ  Home</a>
    <a href="/spells">ğŸ“œ Spellbook</a>
    <a href="/mood">ğŸŒ™ Mood</a>
    <a href="/about">âœ¨ About</a>
</nav>

<h1>ğŸ“– Enchanted Spellbook</h1>
<div class="bookmark">ğŸ”–</div>

<div class="spellbook-container">
    <!-- Left page -->
    <div class="page page-left">
        <h2>âœ¨ Spells of {{ spells|length }} Realms</h2>
        <p>
            Each spell you add is written into this living grimoire.<br>
            As your list grows, so does your magic. ğŸ’«
        </p>
        <p style="margin-top:20px; font-size:18px;">
            Tip: Add more spells to awaken hidden pagesâ€¦
        </p>
        <button class="potion-btn" onclick="window.location.href='/add_spell'">ğŸ§ª Add New Spell</button>
    </div>

    <!-- Right page -->
    <div class="page page-right">
        <div class="spell-list">
    {% if spells %}
        {% for spell in spells %}
            <div class="spell-card">
                <h3 class="spell-title">{{ spell[1] }} {{ spell[3] }}</h3>
                <p><strong>ğŸ§ª Category:</strong> {{ spell[2] }}</p>
                <p class="created">ğŸ“œ Born: {{ spell[4] }}</p>
            </div>
        {% endfor %}
    {% else %}
        <p class="empty">ğŸ•¯ï¸ No spells yet... the pages are waiting.</p>
    {% endif %}
</div>
    </div>
</div>

<!-- floating emojis script if you already added it can stay here -->

<audio id="pageturn" src="/static/sounds/page.mp3" preload="auto"></audio>
<script>
function playTurnSound() {
    const sound = document.getElementById("pageturn");
    sound.currentTime = 0;
    sound.play();
}

// Play sound when the page loads
window.addEventListener("load", () => {
    playTurnSound();
});

// Play sound when bookmark is clicked (optional)
const bookmark = document.querySelector(".bookmark");
if (bookmark) {
    bookmark.addEventListener("click", playTurnSound);
}
</script>
<script>
document.addEventListener("DOMContentLoaded", () => {
    const book = document.querySelector(".spellbook-container");
    setTimeout(() => {
        book.classList.add("open");
    }, 300);
});
</script>
</body>
</html>
